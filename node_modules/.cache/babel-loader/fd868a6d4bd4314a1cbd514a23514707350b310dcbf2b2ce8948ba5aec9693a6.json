{"ast":null,"code":"import * as Yup from \"yup\";\nconst SUPPORTED_FORMATS = [\"image/jpg\", \"image/jpeg\", \"image/png\"];\nexport const contractSchema = Yup.object().shape({\n  term: Yup.number().min(1, \"Vui lòng cung cấp kì hạn lớn hơn 0\").max(120, \"Kì hạn yều cầu tối đa 120 tháng\"),\n  startDate: Yup.string().required(\"Vui lòng cung cấp ngày bắt đầu hợp đồng \").matches(/^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/, 'Ngày bắt đầu phải là DD/MM/YYYY').test('validDate', \"Ngày bắt đầu phải nằm trong khoảng 01/01/2000 đến 01/01/2100\", value => {\n    const [year, month, day] = value.split('-');\n    const date = new Date(parseInt(year), parseInt(month), parseInt(day));\n    return !isNaN(date.getTime()) && date.getFullYear() >= 2000 && date.getFullYear() <= 2100;\n  }),\n  deposit: Yup.string().required(\"Vui lòng cung cấp tiền cọc\").test(\"minDeposit\", \"Tiền đặt cọc hợp lệ (tối thiểu 1.000.000 ,tối đa 100.000.000)\", value => {\n    if (value) {\n      const numericValue = value.replace(/\\D/g, \"\");\n      return numericValue >= 1000000 && numericValue <= 100000000;\n    }\n    return true;\n  }),\n  taxCode: Yup.string().required(\"Vui lòng cung cấp mã số thuế \").test('notANumber', 'Mã số thuế phải là dạng số', value => {\n    //+value sẽ chuyển đổi giá trị value (kiểu string) thành kiểu number.\n    return !isNaN(+value);\n  }).test('taxCodeLength', 'Mã số thuế chỉ chấp nhận 10 ký tự', value => value.length === 10),\n  content: Yup.string().required(\"Vui long cung cấp nội dung hợp đồng \").max(255, \"Vui lòng cung cấp nội dung hợp lệ tối đa 255 ký tự\"),\n  img: Yup.mixed().nullable().test(\"FILE_FORMAT\", \"Định dạng tải lên không được hỗ trợ\", value => {\n    if (!value) {\n      return true; // Nếu value là null, test sẽ trả về true\n    }\n    return SUPPORTED_FORMATS.includes(value.type);\n  }).test('FILE_SIZE', \"Kích thước tệp quá lớn (tối đa 2MB)\", value => !value || value && value.size <= 2048 * 1024)\n});","map":{"version":3,"names":["Yup","SUPPORTED_FORMATS","contractSchema","object","shape","term","number","min","max","startDate","string","required","matches","test","value","year","month","day","split","date","Date","parseInt","isNaN","getTime","getFullYear","deposit","numericValue","replace","taxCode","length","content","img","mixed","nullable","includes","type","size"],"sources":["D:/Code_Gym/Data GitHub/final_module/Developer/A0523I1-Repo-FE/src/schema/ContractSchema.js"],"sourcesContent":["import * as Yup from \"yup\";\r\nconst SUPPORTED_FORMATS = [\"image/jpg\", \"image/jpeg\", \"image/png\"];\r\nexport const contractSchema = Yup.object().shape({\r\n    term: Yup.number()\r\n        .min(1, \"Vui lòng cung cấp kì hạn lớn hơn 0\")\r\n        .max(120, \"Kì hạn yều cầu tối đa 120 tháng\"),\r\n    startDate: Yup.string()\r\n        .required(\"Vui lòng cung cấp ngày bắt đầu hợp đồng \")\r\n        .matches(\r\n            /^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,\r\n            'Ngày bắt đầu phải là DD/MM/YYYY'\r\n        )\r\n        .test(\r\n            'validDate',\r\n            \"Ngày bắt đầu phải nằm trong khoảng 01/01/2000 đến 01/01/2100\",\r\n            (value) => {\r\n                const [year,month,day] = value.split('-');\r\n                const date = new Date(parseInt(year), parseInt(month), parseInt(day));\r\n                return !isNaN(date.getTime()) && date.getFullYear() >= 2000 && date.getFullYear() <= 2100;\r\n            }\r\n        ),\r\n    deposit: Yup.string()\r\n        .required(\"Vui lòng cung cấp tiền cọc\")\r\n        .test(\r\n            \"minDeposit\",\r\n            \"Tiền đặt cọc hợp lệ (tối thiểu 1.000.000 ,tối đa 100.000.000)\",\r\n            (value) =>{\r\n                if(value) {\r\n                    const numericValue = value.replace(/\\D/g, \"\");\r\n                    return numericValue >= 1000000 && numericValue <= 100000000;\r\n                }\r\n                return true;\r\n            }),\r\n    taxCode: Yup.string()\r\n        .required(\"Vui lòng cung cấp mã số thuế \")\r\n        .test(\r\n            'notANumber',\r\n            'Mã số thuế phải là dạng số',\r\n            (value) => {\r\n                //+value sẽ chuyển đổi giá trị value (kiểu string) thành kiểu number.\r\n                return !isNaN(+value);\r\n            }\r\n        )\r\n        .test(\r\n            'taxCodeLength',\r\n            'Mã số thuế chỉ chấp nhận 10 ký tự',\r\n            (value) => value.length === 10\r\n        )\r\n    ,\r\n    content: Yup.string()\r\n        .required(\"Vui long cung cấp nội dung hợp đồng \")\r\n        .max(255, \"Vui lòng cung cấp nội dung hợp lệ tối đa 255 ký tự\"),\r\n    img: Yup.mixed()\r\n        .nullable()\r\n        .test(\r\n            \"FILE_FORMAT\",\r\n            \"Định dạng tải lên không được hỗ trợ\",\r\n            (value) => {\r\n                if (!value) {\r\n                    return true; // Nếu value là null, test sẽ trả về true\r\n                }\r\n                return SUPPORTED_FORMATS.includes(value.type);\r\n            }\r\n        )\r\n        .test(\r\n            'FILE_SIZE',\r\n            \"Kích thước tệp quá lớn (tối đa 2MB)\",\r\n            (value) => !value || (value && value.size <= 2048 * 1024)\r\n        )\r\n})\r\n\r\n"],"mappings":"AAAA,OAAO,KAAKA,GAAG,MAAM,KAAK;AAC1B,MAAMC,iBAAiB,GAAG,CAAC,WAAW,EAAE,YAAY,EAAE,WAAW,CAAC;AAClE,OAAO,MAAMC,cAAc,GAAGF,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;EAC7CC,IAAI,EAAEL,GAAG,CAACM,MAAM,CAAC,CAAC,CACbC,GAAG,CAAC,CAAC,EAAE,oCAAoC,CAAC,CAC5CC,GAAG,CAAC,GAAG,EAAE,iCAAiC,CAAC;EAChDC,SAAS,EAAET,GAAG,CAACU,MAAM,CAAC,CAAC,CAClBC,QAAQ,CAAC,0CAA0C,CAAC,CACpDC,OAAO,CACJ,kDAAkD,EAClD,iCACJ,CAAC,CACAC,IAAI,CACD,WAAW,EACX,8DAA8D,EAC7DC,KAAK,IAAK;IACP,MAAM,CAACC,IAAI,EAACC,KAAK,EAACC,GAAG,CAAC,GAAGH,KAAK,CAACI,KAAK,CAAC,GAAG,CAAC;IACzC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACC,QAAQ,CAACN,IAAI,CAAC,EAAEM,QAAQ,CAACL,KAAK,CAAC,EAAEK,QAAQ,CAACJ,GAAG,CAAC,CAAC;IACrE,OAAO,CAACK,KAAK,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,IAAIJ,IAAI,CAACK,WAAW,CAAC,CAAC,IAAI,IAAI,IAAIL,IAAI,CAACK,WAAW,CAAC,CAAC,IAAI,IAAI;EAC7F,CACJ,CAAC;EACLC,OAAO,EAAEzB,GAAG,CAACU,MAAM,CAAC,CAAC,CAChBC,QAAQ,CAAC,4BAA4B,CAAC,CACtCE,IAAI,CACD,YAAY,EACZ,+DAA+D,EAC9DC,KAAK,IAAI;IACN,IAAGA,KAAK,EAAE;MACN,MAAMY,YAAY,GAAGZ,KAAK,CAACa,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MAC7C,OAAOD,YAAY,IAAI,OAAO,IAAIA,YAAY,IAAI,SAAS;IAC/D;IACA,OAAO,IAAI;EACf,CAAC,CAAC;EACVE,OAAO,EAAE5B,GAAG,CAACU,MAAM,CAAC,CAAC,CAChBC,QAAQ,CAAC,+BAA+B,CAAC,CACzCE,IAAI,CACD,YAAY,EACZ,4BAA4B,EAC3BC,KAAK,IAAK;IACP;IACA,OAAO,CAACQ,KAAK,CAAC,CAACR,KAAK,CAAC;EACzB,CACJ,CAAC,CACAD,IAAI,CACD,eAAe,EACf,mCAAmC,EAClCC,KAAK,IAAKA,KAAK,CAACe,MAAM,KAAK,EAChC,CAAC;EAELC,OAAO,EAAE9B,GAAG,CAACU,MAAM,CAAC,CAAC,CAChBC,QAAQ,CAAC,sCAAsC,CAAC,CAChDH,GAAG,CAAC,GAAG,EAAE,oDAAoD,CAAC;EACnEuB,GAAG,EAAE/B,GAAG,CAACgC,KAAK,CAAC,CAAC,CACXC,QAAQ,CAAC,CAAC,CACVpB,IAAI,CACD,aAAa,EACb,qCAAqC,EACpCC,KAAK,IAAK;IACP,IAAI,CAACA,KAAK,EAAE;MACR,OAAO,IAAI,CAAC,CAAC;IACjB;IACA,OAAOb,iBAAiB,CAACiC,QAAQ,CAACpB,KAAK,CAACqB,IAAI,CAAC;EACjD,CACJ,CAAC,CACAtB,IAAI,CACD,WAAW,EACX,qCAAqC,EACpCC,KAAK,IAAK,CAACA,KAAK,IAAKA,KAAK,IAAIA,KAAK,CAACsB,IAAI,IAAI,IAAI,GAAG,IACxD;AACR,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}