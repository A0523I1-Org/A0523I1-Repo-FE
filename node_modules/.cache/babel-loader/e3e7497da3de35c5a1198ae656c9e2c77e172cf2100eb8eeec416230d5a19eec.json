{"ast":null,"code":"import { useCallback, useState } from 'react';\nimport { useAvailableWidth } from './useAvailableWidth.js';\nimport { useFoutDetector } from './useFoutDetector.js';\nimport { useWidthCalculator } from './useWidthCalculator.js';\nimport { iteratorNext, lastWhere } from '../helpers/iterator.js';\nexport function useWidestComposition(narrowToWideCompositionsProvider, maxWidth) {\n  const [containerElement, setContainerElement] = useState(null);\n  const availableWidth = useAvailableWidth(maxWidth === undefined ? containerElement : null);\n  const width = maxWidth ?? availableWidth ?? 0;\n  const {\n    widthCalculator,\n    metricsRender,\n    clearCache\n  } = useWidthCalculator();\n  const foutDetectorRef = useFoutDetector(getItemsDomElements, clearCache);\n  const ref = useCallback(element => {\n    foutDetectorRef.current = element;\n    setContainerElement(element);\n  }, [foutDetectorRef]);\n  if (metricsRender) {\n    return {\n      items: metricsRender.items,\n      ref(containerElement) {\n        metricsRender.ref(containerElement);\n        ref(containerElement);\n      },\n      clearCache\n    };\n  } else {\n    return {\n      items: getLargestFittingCompositionWithFallback(narrowToWideCompositionsProvider, widthCalculator, width),\n      ref,\n      clearCache\n    };\n  }\n}\nfunction getLargestFittingCompositionWithFallback(getNarrowToWideCompositions, getCompositionWidth, maxWidth) {\n  const narrowToWideCompositions = getNarrowToWideCompositions();\n  const firstComposition = iteratorNext(narrowToWideCompositions) ?? [];\n  const doesCompositionFit = composition => getCompositionWidth(composition) < maxWidth;\n  return lastWhere(narrowToWideCompositions, doesCompositionFit) ?? firstComposition;\n}\nfunction getItemsDomElements(viewDomElement) {\n  return viewDomElement && Array.from(viewDomElement.children);\n}","map":{"version":3,"names":["useCallback","useState","useAvailableWidth","useFoutDetector","useWidthCalculator","iteratorNext","lastWhere","useWidestComposition","narrowToWideCompositionsProvider","maxWidth","containerElement","setContainerElement","availableWidth","undefined","width","widthCalculator","metricsRender","clearCache","foutDetectorRef","getItemsDomElements","ref","element","current","items","getLargestFittingCompositionWithFallback","getNarrowToWideCompositions","getCompositionWidth","narrowToWideCompositions","firstComposition","doesCompositionFit","composition","viewDomElement","Array","from","children"],"sources":["D:/Code_Gym/Data GitHub/final_module/Developer/A0523I1-Repo-FE/node_modules/react-responsive-pagination/dist/hooks/useWidestComposition.js"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport { useAvailableWidth } from './useAvailableWidth.js';\nimport { useFoutDetector } from './useFoutDetector.js';\nimport { useWidthCalculator } from './useWidthCalculator.js';\nimport { iteratorNext, lastWhere } from '../helpers/iterator.js';\nexport function useWidestComposition(narrowToWideCompositionsProvider, maxWidth) {\n    const [containerElement, setContainerElement] = useState(null);\n    const availableWidth = useAvailableWidth(maxWidth === undefined ? containerElement : null);\n    const width = maxWidth ?? availableWidth ?? 0;\n    const { widthCalculator, metricsRender, clearCache } = useWidthCalculator();\n    const foutDetectorRef = useFoutDetector(getItemsDomElements, clearCache);\n    const ref = useCallback((element) => {\n        foutDetectorRef.current = element;\n        setContainerElement(element);\n    }, [foutDetectorRef]);\n    if (metricsRender) {\n        return {\n            items: metricsRender.items,\n            ref(containerElement) {\n                metricsRender.ref(containerElement);\n                ref(containerElement);\n            },\n            clearCache,\n        };\n    }\n    else {\n        return {\n            items: getLargestFittingCompositionWithFallback(narrowToWideCompositionsProvider, widthCalculator, width),\n            ref,\n            clearCache,\n        };\n    }\n}\nfunction getLargestFittingCompositionWithFallback(getNarrowToWideCompositions, getCompositionWidth, maxWidth) {\n    const narrowToWideCompositions = getNarrowToWideCompositions();\n    const firstComposition = iteratorNext(narrowToWideCompositions) ?? [];\n    const doesCompositionFit = (composition) => getCompositionWidth(composition) < maxWidth;\n    return lastWhere(narrowToWideCompositions, doesCompositionFit) ?? firstComposition;\n}\nfunction getItemsDomElements(viewDomElement) {\n    return viewDomElement && Array.from(viewDomElement.children);\n}\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,SAASC,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,eAAe,QAAQ,sBAAsB;AACtD,SAASC,kBAAkB,QAAQ,yBAAyB;AAC5D,SAASC,YAAY,EAAEC,SAAS,QAAQ,wBAAwB;AAChE,OAAO,SAASC,oBAAoBA,CAACC,gCAAgC,EAAEC,QAAQ,EAAE;EAC7E,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAMW,cAAc,GAAGV,iBAAiB,CAACO,QAAQ,KAAKI,SAAS,GAAGH,gBAAgB,GAAG,IAAI,CAAC;EAC1F,MAAMI,KAAK,GAAGL,QAAQ,IAAIG,cAAc,IAAI,CAAC;EAC7C,MAAM;IAAEG,eAAe;IAAEC,aAAa;IAAEC;EAAW,CAAC,GAAGb,kBAAkB,CAAC,CAAC;EAC3E,MAAMc,eAAe,GAAGf,eAAe,CAACgB,mBAAmB,EAAEF,UAAU,CAAC;EACxE,MAAMG,GAAG,GAAGpB,WAAW,CAAEqB,OAAO,IAAK;IACjCH,eAAe,CAACI,OAAO,GAAGD,OAAO;IACjCV,mBAAmB,CAACU,OAAO,CAAC;EAChC,CAAC,EAAE,CAACH,eAAe,CAAC,CAAC;EACrB,IAAIF,aAAa,EAAE;IACf,OAAO;MACHO,KAAK,EAAEP,aAAa,CAACO,KAAK;MAC1BH,GAAGA,CAACV,gBAAgB,EAAE;QAClBM,aAAa,CAACI,GAAG,CAACV,gBAAgB,CAAC;QACnCU,GAAG,CAACV,gBAAgB,CAAC;MACzB,CAAC;MACDO;IACJ,CAAC;EACL,CAAC,MACI;IACD,OAAO;MACHM,KAAK,EAAEC,wCAAwC,CAAChB,gCAAgC,EAAEO,eAAe,EAAED,KAAK,CAAC;MACzGM,GAAG;MACHH;IACJ,CAAC;EACL;AACJ;AACA,SAASO,wCAAwCA,CAACC,2BAA2B,EAAEC,mBAAmB,EAAEjB,QAAQ,EAAE;EAC1G,MAAMkB,wBAAwB,GAAGF,2BAA2B,CAAC,CAAC;EAC9D,MAAMG,gBAAgB,GAAGvB,YAAY,CAACsB,wBAAwB,CAAC,IAAI,EAAE;EACrE,MAAME,kBAAkB,GAAIC,WAAW,IAAKJ,mBAAmB,CAACI,WAAW,CAAC,GAAGrB,QAAQ;EACvF,OAAOH,SAAS,CAACqB,wBAAwB,EAAEE,kBAAkB,CAAC,IAAID,gBAAgB;AACtF;AACA,SAAST,mBAAmBA,CAACY,cAAc,EAAE;EACzC,OAAOA,cAAc,IAAIC,KAAK,CAACC,IAAI,CAACF,cAAc,CAACG,QAAQ,CAAC;AAChE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}